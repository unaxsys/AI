<!doctype html>
<html lang="bg">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anagami AI Core · Admin</title>
    <link rel="stylesheet" href="/public/styles.css" />
  </head>
  <body>
    <div class="layout">
      <header>
        <div class="brand"><img src="/public/logo.svg" class="logo" alt="Anagami logo" /><span>Anagami AI Core</span></div>
        <div id="userBadge"></div>
      </header>
      <aside id="adminSidebar">
        <button data-agent-tab="email" class="active">Email Replies</button>
        <button data-agent-tab="offers">Offers</button>
        <button data-agent-tab="contracts">Contracts</button>
        <button data-agent-tab="support">Support</button>
        <button data-agent-tab="marketing">Marketing</button>
        <button data-agent-tab="recruiting">Recruiting</button>
        <button data-agent-tab="escalations">Escalation Management</button>
        <button data-agent-tab="sales">Sales</button>
        <button data-agent-tab="accounting">Accounting Issues</button>
        <button data-agent-tab="tax">Tax Issues</button>
        <button data-agent-tab="cases">Cases (NRA/Companies)</button>
        <button data-agent-tab="procedures">Rules & Procedures</button>
        <button data-agent-tab="admin">Admin</button>
      </aside>
      <main>
        <section id="agentSettingsPanel" class="panel">
          <h2 id="agentSettingsTitle">Agent настройки</h2>
          <p>Тук можеш да задаваш настройки и да добавяш информация за всеки агент.</p>

          <form id="agentPromptForm" class="admin-form">
            <label>Системен промпт
              <textarea id="agentPromptInput" rows="8" required placeholder="Добави инструкции за избрания агент..."></textarea>
            </label>
            <div class="agent-form-actions">
              <button type="submit">Запази настройки</button>
            </div>
          </form>

          <form id="agentKnowledgeForm" class="admin-form">
            <label>Заглавие на информацията
              <input id="agentKnowledgeTitle" type="text" required placeholder="Напр. Процедура за ескалация" />
            </label>
            <label>Информация / знания
              <textarea id="agentKnowledgeContent" rows="6" required placeholder="Добави знания, които агентът да използва..."></textarea>
            </label>
            <label>Източник (по избор)
              <input id="agentKnowledgeSource" type="text" placeholder="Документ, URL, вътрешна бележка" />
            </label>
            <div class="agent-form-actions">
              <button type="submit">Добави информация</button>
            </div>
          </form>

          <h3>Последна добавена информация</h3>
          <ul id="agentKnowledgeList" class="agent-knowledge-list"></ul>
          <div id="agentMessage" class="status-message" aria-live="polite"></div>
        </section>

        <section id="adminUsersPanel" class="panel hidden">
          <h2>User Management</h2>
          <p>Създай потребител и управлявай достъпа от един екран.</p>

          <form id="createUserForm" class="admin-form">
            <label>Име
              <input name="firstName" type="text" required />
            </label>
            <label>Фамилия
              <input name="lastName" type="text" required />
            </label>
            <label>Пол
              <select name="gender" required>
                <option value="male">male</option>
                <option value="female">female</option>
                <option value="other">other</option>
              </select>
            </label>
            <label>Имейл
              <input name="email" type="email" required />
            </label>
            <label>Роля
              <select name="role" required>
                <option value="admin">admin</option>
                <option value="manager">manager</option>
                <option value="user" selected>user</option>
              </select>
            </label>
            <label>Временна парола (по избор)
              <input name="tempPassword" type="text" />
            </label>
            <button type="submit">Създай потребител</button>
          </form>

          <div id="adminMessage" class="status-message" aria-live="polite"></div>

          <table class="admin-table">
            <thead>
              <tr>
                <th>Email</th>
                <th>Име</th>
                <th>Роля</th>
                <th>Дата на създаване</th>
                <th>Статус</th>
                <th>Действия</th>
              </tr>
            </thead>
            <tbody id="usersTableBody"></tbody>
          </table>
        </section>
      </main>
    </div>

    <script src="/public/admin.js"></script>
  </body>
</html>
